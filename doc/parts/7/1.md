## テストコードをどうやって書いていくのか

テストコードは、プロダクトのコードに比べて多くなる事がしばしばあります。
しかし、以下のメリットがあるので、書くようにしましょう。

- 仕様、設計についての考えが深まります。
- 手作業によるテストを減らす事ができます。
- 想定通りに動くかどうかの不安を払拭できます。
- リファクタや、仕様変更によるソースコードの修正に不安がなくなります。

一度、開発してから変更を加える際にデグレが起きてないことを担保するのは、とても大切なことです。

テストを書く際には小さい機能ごとに分割して記述する方が、考える事が少なくなるので、考えやすいです。

アプリケーションにおいて、テストを書いていく場合はE2Eテストと呼ばれるシステムテストから書いていくのが適切です。
以下に理由を示します。

- 外から見たアプリケーションの動作がわかれば、テストをかけるので、概要を掴んだ段階でテストを書き始めることができます。
- ルーター、コントローラー、モデル、ビューの全てを通るので、カバレッジを高めることができます。
- テストを書くことで、使用理解につながるので、アプリケーションの理解がしやすいです。

しかし、システムテストだけで終わらせてはいけません。それには以下の理由が存在します。

- ブラウザを使用するため、テストに時間がかかってしまいます。
- モデルなどの部品ごとの仕様はわからないので、それぞれがそれぞれの責務に対して正しく動いているのかが判断できません。
