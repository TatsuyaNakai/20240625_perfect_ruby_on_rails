## モデルについて

### scopeの注意点

~~~~Ruby
class Book < ApplicationRecord
  scope :find_price, -> (price) { find_by_price(price) }
end
~~~~

scopeで定義する実装が、該当のレコードが存在しない場合にnilを返してほしい場合があるとする。
scopeの結果がnilの場合は、すべての配列を返却するので、その場合はクラスメソッドで定義すること


### CRUD操作以外のコールバック

基本のコールバック以外にも以下も存在します。

|  |  |
| --- | --- |
| after_initialize | ApplicationRecordを継承したモデルがインスタンス化されたタイミングで実行される<br/>`Book.new`, `Book.find`などの場合に実行される |
| after_find | find系のメソッド(`first`, `last`, `find`, `find_by`)で実行される |


### ActiveRecord::Enumで列挙型

Railsのデフォルトとして、提供されていますが、[enumerize](https://github.com/brainspec/enumerize)の方が複雑な設定ができるためおススメ
