## コントローラについて

### 例外処理の種類について

| ステータスコード | 英語名 | 日本語 | 例外の種類 |
| --- | --- | --- | --- |
| 400 | Bad Request | リクエストの期待したフォーマットをサーバーが想定していない場合 | ActionController::BadRqeust |
| 404 | Not Found | 指定されたレコードが存在しない場合 | ActiveRecord::RecordNotFound<br>ActionController::RoutingError...etc |
| 405 | Method Not Allowed | HTTPリクエストで想定されていない種類でリクエストされた場合 | ActionController::MethodNotAllowed...etc |
| 422 | Unprocessable Entity | ActiveRecordのバリデーションに失敗した場合<br>フォームにセキュリティートークンが存在しない場合 | ActiveRecord::RecordInvalid, ActiveRecord::RecordNotSaved<br>ActionController::InvalidAuthenticityToken |
| 500 | Internal Server Error | ... | その他多くの例外 |

### エラーハンドリングについて

特定の例外が発生している場合、特定のレスポンスを返却したい場合
アプリケーションの全体の振る舞いとして定義するため、ApplicationController.rbで`rescue_from`で定義してあげます。
エラーの振る舞いは切り出しあげるのも一つの手です。

~~~~Ruby
class LoginFailed < StandardError
  ...
end

class ApplicationController < ActionController::Base
  rescue_from LoginFailed, with: :login_failed # LoginFailedが発生した時に、login_failedを呼び出します。

  def login_failed
    ...
  end
end
~~~~
