## 主要なファイルやディレクトリについて

|  |  |
| --- | --- |
| .ruby-version | 記載されたRubyのバージョンを利用する |
| bin | Railsアプリケーションを開発するために利用する実行コマンドを格納 |
| config | 動作に関する設定ファイルを格納 |
| lib | Rakeタスクなど、アプリケーションから独立したコードを格納 |
| public | 静的コンテンツ(サーバー自体に保存されており、毎回同じものが配信される。エラーページやロゴなど)を配置する |


## binディレクトリについて

bundler(Ruby2.5以降に実装されたgemの依存関係を管理する仕組み)を使って依存関係を解決した上で実行する必要がある
その為、`bundle exec`と先頭につけてあげる必要がある。
しかし、利便性を考えた時に省略しても実行できるコマンドについてはこちらのディレクトリに配置している。
この配置されたファイルを`binstub`という

プロジェクトで新しいコマンドを利用する場合は、yarnなどの慣習に習い、binディレクトリ内に実行ファイルを配置する
そうすると、一貫性が出てきた時に途中からのメンバーが直感的に理解できるプロジェクト構成となります。


### binディレクトリの内容

|  |  |
| --- | --- |
| bundle | Bundlerを使う際のbundleコマンド |
| rails | railsコマンド |
| rake | rakeコマンド |
| setup | Railsアプリケーションを実行可能にするためのセットアップスクリプト |
| spring | Springという開発用のアプリケーションプリローダー |
| webpack | フロントエンドで利用するwebpackをラップしたWebpackerを実行する |
| webpack-dev-server | フロントエンドのソースコードをホットリロードするためのサーバー起動 |
| yarn | フロントエンドのパッケージマネージャーの実行 |

e.g) rakeタスクを実行したい場合
```
# docker利用時でコンテナ指定が必要になる場合があります
$ rake [タスク名]
```

## appディレクトリについて

|  |  |
| --- | --- |
| assets | CSSなどをまとめる(4章で説明) |
| javascript | フロントエンド関連のソースコードをまとめる |
| channels/mailers | シンプルなアプリケーションの場合は使用しない(5章で説明) |


## libディレクトリについて

Rails5.0以前はアプリケーションとして独立性の高いコードはlib配下に置くケースがありました。
しかし、Rails5.0以降lib配下のディレクトリの自動読み込みが廃止されました。
そのため、独立性の高いコードであっても、app配下に置き場所を用意した方が良い


## Railsコマンドについて

### よく利用するコマンド

|  |  |
| --- | --- |
| dbconsole(db) | 設定ファイルに定義されている接続情報を使用してDBへ接続し、コンソールを起動する |
| runner | 任意のスクリプトや任意のファイルを実行することができる。(コード、もしくはファイル名を引数に配置)`rails console`や`rakeタスク`で代用できる気がするので使用頻度は高くないかも |
| stats | Lines:ファイルの行数(コメントアウ/空行含める)、LOC:実装している行数(コメントアウ/空行含めない)などの情報がテーブル形式で表示される |

それぞれのコマンドに対して`-h`とすることで、使い方やオプションの説明を表示することができる