## テストの種類と実行方法

### 種類

Railsの思想のもと、ディレクトリに意味を持たせるので、以下の役割ごとに記載してあげます

| | | |
| --- | --- | --- |
| models | モデルに対するテスト | バリデーション, インスタンスメソッド |
| channels | ActionCableに対するテスト | Action Cableを利用したリアルタイム機能の検証 |
| system | アプリケーション全体を結合して動作を検証(E2E) | ボタン押下でページ遷移するか、フォームの入力内容が反映されているかなど、<br>アプリケーションの動作をユーザー視点で検証 |
| controllers | アプリケーションの各機能を結合して検証するテスト | リクエストに対して正しいレスポンスが返ってくるか, データ作成、および削除 |
| fixtures | サンプルデータを管理 | |
| helpers | ヘルパー定義 | 日付表示やヘッダーのアプリ情報などsystemテストで繰り返し使用するコンポーネントを定義 |
| integration | 複数のコントローラ間の検証 | コンポーネントを跨ぐ場合、かつUIに依存しないテストを検証(systemはUI依存) |
| mailers | Action Mailerに対するテスト | メールが正しく送信されるかどうかを検証 |
| jobs | ActiveJobに対するテスト | 非同期処理が正しく行われているかどうかを検証 |

test_helper.rbは、ログイン処理などのユーティリティメソッドを提供するために使用されます。


### 実行方法

```
# ディレクトリ単位で実行
rails test test/models

# ファイル単位で実行
rails test test/models/XXX.rb

# 行番号単位で実行
rails test test/models/XXX.rb:5

# テスト名単位で実行
rails test test/models/XXX.rb -n test_title
```

### 並列テスト

Rails6.0から追加された並列テストは恩恵としては、「テスト実施速度が早くなった！」のみ
